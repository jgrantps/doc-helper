<%# passed to "_user_sidebar.html.erb through "main_display.html.erb" via yielded "content_for :user_sidebar" block in view files %>
<%# renders clickable tallies of different user types associated with current_user %>

<% if current_user.admin?%>

  <a href="/users/<%= current_user.id %>/<%= role %>s", :method => :post, action="selected_status" class="flex justify-between item-center px-3 py-1 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-200">
      <span class="text-sm font-medium text-gray-700"><%= role.titleize+"s"%></span>
      <span class="text-xs font-semibold text-gray-700"><%= User.where(role: role).distinct.count %></span>
  </a>

<% else%>
  <%= link_to user_associates_path(current_user.id, {:role => role}), class: "flex justify-between item-center px-3 py-1 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-200" do %>
      <span id="test" class="text-sm font-medium text-gray-700"><%= role.titleize+"s"%></span>
      <span class="text-xs font-semibold text-gray-700"><%= current_user.associated_users(role).distinct.count %></span>
  <% end %>
<% end %>

